<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Acius Exio</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=EB+Garamond:ital,wght@0,400;0,500;0,600;1,400;1,500;1,600&family=Inter:wght@400;500;600;700&family=IBM+Plex+Mono:wght@400;500&display=swap" rel="stylesheet">

  <script src="../assets/js/theme.js"></script>
  <link rel="stylesheet" href="../assets/css/home-prototype.css" />
</head>
<body data-theme="day">
  <main class="wrap">
    <header class="hero">
      <p class="kicker">bonjour, je suis</p>
      <h1 class="name">Acius Exio</h1>
      <p class="subtitle">archeologie · analyse spatiale · outils numeriques (Spica)</p>
      <nav class="langswitch" aria-label="Changement de langue">
        <a class="langbtn" href="../">EN</a>
        <a class="langbtn" href="./" aria-current="page">FR</a>
        <a class="langbtn" href="../it/">IT</a>
        <a class="langbtn" href="../la/">LA</a>
        <button class="langbtn" type="button" data-theme-toggle aria-label="Activer le mode jour/nuit">☼/☾</button>
      </nav>

      <nav class="nav" aria-label="Panneaux d'accueil">
        <button class="navbtn" type="button" data-open="about">a propos</button>
        <button class="navbtn" type="button" data-open="work">travaux</button>
        <button class="navbtn" type="button" data-open="spica">spica</button>
        <button class="navbtn" type="button" data-open="writing">ecrits</button>
        <button class="navbtn" type="button" data-open="contact">contact</button>
      </nav>
    </header>

    <section class="panel" id="about" aria-hidden="true">
      <div class="panelCard">
        <button class="close" type="button" data-close aria-label="Fermer">&times;</button>
        <h2>A propos</h2>
        <div class="rule"></div>
        <p>
          Archeologue travaillant sur les dynamiques de depot spatial,
          les processus d'abandon et la conception de methodes numeriques.
        </p>
        <ul class="bullets">
          <li>Terrains: grottes, habitats fortifies, contextes medievaux et post-medievaux</li>
          <li>Axes: interpretation spatiale, integration stratigraphique, workflows reproductibles</li>
          <li>Langues: FR / EN / IT</li>
        </ul>
      </div>
    </section>

    <section class="panel" id="work" aria-hidden="true">
      <div class="panelCard">
        <button class="close" type="button" data-close aria-label="Fermer">&times;</button>
        <h2>Travaux</h2>
        <div class="rule"></div>
        <div class="cardList">
          <a class="card" href="research/">
            <div class="cardTitle">Recherche</div>
            <div class="cardMeta">distribution spatiale · interpretation archeologique</div>
          </a>
          <a class="card" href="portfolio/">
            <div class="cardTitle">Portfolio</div>
            <div class="cardMeta">projets selectionnes · terrain et numerique</div>
          </a>
        </div>
      </div>
    </section>

    <section class="panel" id="spica" aria-hidden="true">
      <div class="panelCard">
        <button class="close" type="button" data-close aria-label="Fermer">&times;</button>
        <h2>Spica</h2>
        <div class="rule"></div>
        <p>Un outil leger pour l'exploration spatiale et nuages de points archeologiques.</p>
        <ul class="bullets">
          <li>CSV vers visualisation 3D interactive</li>
          <li>Exploration par couches contextuelles et analytiques</li>
          <li>Exports pour rapports et publications</li>
        </ul>
        <p><a class="link" href="../tools/spica/">Ouvrir Spica</a></p>
      </div>
    </section>

    <section class="panel" id="writing" aria-hidden="true">
      <div class="panelCard">
        <button class="close" type="button" data-close aria-label="Fermer">&times;</button>
        <h2>Ecrits</h2>
        <div class="rule"></div>
        <ul class="bullets">
          <li><a class="link" href="blog/">Index du blog</a></li>
          <li><a class="link" href="research/">Notes de methode et recherche</a></li>
        </ul>
      </div>
    </section>

    <section class="panel" id="contact" aria-hidden="true">
      <div class="panelCard">
        <button class="close" type="button" data-close aria-label="Fermer">&times;</button>
        <h2>Contact</h2>
        <div class="rule"></div>
        <p>Le plus simple reste le courriel.</p>
        <p><a class="link" href="mailto:acius.exio@outlook.com">acius.exio@outlook.com</a></p>
      </div>
    </section>

    <footer class="footer">
      <p>© <span id="year"></span> Acius Exio</p>
      <p class="footerLinks">
        <a href="tools/">Outils</a>
        <a href="about/">A propos</a>
        <a href="contact/">Contact</a>
      </p>
    </footer>
  </main>

  <script>
    (function(){
      const KEY = "siteTheme";
      const saved = localStorage.getItem(KEY);
      document.body.setAttribute("data-theme", saved || "day");

      const btn = document.querySelector("[data-theme-toggle]");
      if (btn){
        btn.addEventListener("click", () => {
          const cur = document.body.getAttribute("data-theme") || "day";
          const next = (cur === "night") ? "day" : "night";
          document.body.setAttribute("data-theme", next);
          localStorage.setItem(KEY, next);
        });
      }
    })();

    const panels = Array.from(document.querySelectorAll(".panel"));

    const closeAll = () => {
      panels.forEach((panel) => {
        panel.classList.remove("isOpen");
        panel.setAttribute("aria-hidden", "true");
      });
      document.body.classList.remove("panelOpen");
    };

    const openPanel = (id) => {
      const panel = document.getElementById(id);
      if (!panel) return;
      closeAll();
      panel.classList.add("isOpen");
      panel.setAttribute("aria-hidden", "false");
      document.body.classList.add("panelOpen");
    };

    document.addEventListener("click", (event) => {
      const openBtn = event.target.closest("[data-open]");
      const closeBtn = event.target.closest("[data-close]");

      if (openBtn) {
        openPanel(openBtn.getAttribute("data-open"));
        return;
      }

      if (closeBtn) {
        closeAll();
        return;
      }

      if (event.target.classList.contains("panel")) {
        closeAll();
      }
    });

    document.addEventListener("keydown", (event) => {
      if (event.key === "Escape") {
        closeAll();
      }
    });

    document.getElementById("year").textContent = String(new Date().getFullYear());
  </script>
</body>
</html>
